## Linux machine metasploitable2

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/117cfa75-e2ca-4205-867e-c381c428daab)

> ifconfig

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/59bdd6e6-4692-4ce1-a30c-a1920c3cb7b8)

## Scanning the machine with nmap

> For scanning the machine we use the command ```nmap -sV <ip>```

 ![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/2e9a57f5-8c36-4c4d-b499-477ca33a8b14)

> We can see that there many services let's take any two and try to exploit it.

> First go with **vsftpd 2.3.4** lets search in metasploit database using the search command

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/68ad0aec-7fb6-41c5-9428-02507a2ec2a5)

> So there is exploit for this lets select that exploit

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/446c1c83-fbfd-418d-8f70-763c8312c7cb)

> We have selected the payload let see the options

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/554e1a43-c40b-4529-a104-3cd22313e747)

> After setting the host, running the command we were able to get root shell access into the metasploit system

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/59c123bf-d476-42b0-bdfd-4286c05d2734)

> Samba is running on port 139 and 445 so we will use a samba based exploit next

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/a08ed90a-bc3d-4991-ae9e-d83d36e5562c)

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/6fa9ab79-d6ac-4f0c-82dc-da24a0ebb2fd)

> selected the exploit, now to adding the RHOST

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/76bb8d79-bdaa-4493-a711-84e1ccc04b26)

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/14929a07-22b6-464c-8151-b4df5adcef71)

> After the running exploit we get a root shell

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/b03f3fa8-cdf9-497c-ba0d-14e8a44f382c)

> So we can see that we are in the target machine a we have full access

## Windows 10 Machine

> This the target windows machine

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/04ba24c5-c4b0-4ae1-baf2-53cd20d70c53)

> Let's try get access to that machine using a reverse shell when get executed in the windows machine will give reverse connection to attacker machine.

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/f8c5904c-4be3-4f80-a687-2d97dfc969fb)

>> created a payload.

> Sending the payload by addigd it in the html directory under /var/www/html/

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/0dfd8cad-f392-40d6-b59b-cc13ea1d124f)

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/8ca04473-8e39-41c7-b6b0-d00cc12ee542)

> So we downloaded file target machine let's setup the listener
> We use exploit multi hander to interact with payload

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/dfa6ace2-0113-425f-8455-13d83c9f1f6a)


![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/aa506900-ebbb-45ec-8317-1fdd16a77c30)

> We have to set the LHOST that is the ip of the attacker machine

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/2f32db6e-4008-4043-b105-0c154e5d7372)

> Run the payload2.exe file after turning on the listener in attacker machine.

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/65765b56-de15-4757-82bf-8c4b24e73506)

![image](https://github.com/udayk01/CYBER-SECURITY-LAB/assets/52235763/a19d7abd-7254-4ffe-8d0e-d8d40585b151)

> Now as you can see we got access to the victim machine.






